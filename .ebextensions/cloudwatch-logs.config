option_settings:
aws:elasticbeanstalk:cloudwatch:logs:
StreamLogs: true
DeleteOnTerminate: true
RetentionInDays: 7

files:
"/etc/awslogs/config/myapp.conf":
mode: "000644"
owner: root
group: root
content: |
[/var/log/web.stdout.log]
file = /var/log/web.stdout.log
log_group_name = eb-app-stdout
log_stream_name = {instance_id}
datetime_format = %Y-%m-%dT%H:%M:%S.%f

[/var/log/web.stderr.log]
file = /var/log/web.stderr.log
log_group_name = eb-app-stderr
log_stream_name = {instance_id}
datetime_format = %Y-%m-%dT%H:%M:%S.%f

[/var/log/nginx/error.log]
file = /var/log/nginx/error.log
log_group_name = eb-nginx-error
log_stream_name = {instance_id}
datetime_format = %Y/%m/%d %H:%M:%S

[/var/app/current/logs/app-log.txt]
file = /var/app/current/logs/app-log.txt
log_group_name = eb-app-logfile
log_stream_name = {instance_id}
datetime_format = %Y-%m-%d %H:%M:%S
